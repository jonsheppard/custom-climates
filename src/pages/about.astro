---
import { Image } from 'astro:assets';
import { getEntry } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import travis from '../assets/images/team/Travis.webp';
import jake from '../assets/images/team/Jake.webp';
import tate from '../assets/images/team/Tate.webp';
import antony from '../assets/images/team/Antony.webp';

const aboutPage = await getEntry('pages', 'about');
const { 
  hero_headline = "We've Seen What Weather Can Do to a Project",
  hero_subtext = "And we're here to make sure it never happens to yours. Our team combines decades of construction, logistics, and business experience to deliver climate-controlled solutions that actually work when you need them most.",
  team_intro_headline = "The People Behind Your Protection",
  team_intro_subtext = "We're not just equipment guys. We're former contractors, traders, and business operators who understand what it's like when deadlines are tight and weather won't cooperate.",
  team_members = []
} = aboutPage?.data || {};

const title = "About Us | Custom Climates";
const description = "Meet the team that keeps your materials safe when Mother Nature tries to wreck your schedule. Real construction experience, real solutions.";
---

<Layout title={title} description={description}>
  <main class="bg-gray-800 text-white">
    <div class="py-20 px-8 text-center">
      <h1 class="text-5xl font-extrabold">{hero_headline}</h1>
      <p class="mt-4 text-xl text-gray-300 max-w-4xl mx-auto">
        {hero_subtext}
      </p>
    </div>

    <div class="py-10 px-8">
      <div class="container mx-auto max-w-6xl">
        <div class="text-center mb-16">
            <h2 class="text-4xl font-bold">{team_intro_headline}</h2>
            <p class="mt-4 text-lg text-gray-300 max-w-3xl mx-auto">{team_intro_subtext}</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-left">
          {team_members.map((member) => (
            <div class="bg-gray-900 p-8 rounded-lg flex flex-col items-center">
              <div class="w-48 h-48 mb-6">
                <Image src={member.name === 'Travis' ? travis : member.name === 'Jake' ? jake : member.name === 'Tate' ? tate : antony} alt={`Headshot of ${member.name}`} class="rounded-full w-full h-full object-cover" />
              </div>
              <div class="text-center">
                <h3 class="text-2xl font-bold mb-3 text-white">{member.name}</h3>
                <p class="text-gray-300 space-y-4" set:html={member.bio} />
                {member.specialties_headline && (
                  <div class="mt-4 pt-4 border-t border-gray-700">
                    <h4 class="font-bold text-white">{member.specialties_headline}</h4>
                    <p class="text-gray-300">{member.specialties}</p>
                    {member.education_headline && (
                      <>
                        <h4 class="font-bold text-white mt-2">{member.education_headline}</h4>
                        <p class="text-gray-300">{member.education}</p>
                      </>
                    )}
                  </div>
                )}
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>

    <div class="py-20 px-8 text-center bg-gray-800">
      <h2 class="text-4xl font-bold mb-4">Got a Project That Can't Wait for Good Weather?</h2>
      <p class="text-lg text-gray-300 mb-8 max-w-2xl mx-auto">
          Let's talk about climate-guarding your materials before Mother Nature crashes your timeline.
      </p>
      <a href="/contact" class="bg-[#0955A9] hover:bg-[#07448a] text-white font-bold py-4 px-8 rounded-lg text-lg transition-colors duration-300">
          Get My Custom Quote
      </a>
    </div>
  </main>
</Layout> 