---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import ComparisonTable from '../components/ComparisonTable.astro';
import Footer from '../components/Footer.astro';

const services = await getCollection('services');
---

<Layout 
	title="Our Services | Custom Climates" 
	description="Explore our climate-controlled trailers and conex containers, designed to protect your materials from weather damage on any job site."
>
	<Header />
	<main>
		<section class="py-20 text-center">
			<div class="container mx-auto px-6">
				<h1 class="text-4xl md:text-5xl font-bold font-heading">Our Equipment & Services</h1>
				<p class="mt-4 text-lg max-w-2xl mx-auto text-neutral-medium">Tailored solutions to keep your materials pristine and your project on track.</p>
			</div>
		</section>

		<section id="service-details" class="py-20 bg-neutral-light">
			<div class="container mx-auto px-6 space-y-12">
				{services.map(async (service) => {
					const { Content } = await service.render();
					return (
						<div id={service.slug} class="grid md:grid-cols-2 gap-12 items-center">
							<div>
								<h2 class="text-3xl font-bold font-heading mb-4">{service.data.title}</h2>
								<div class="prose lg:prose-xl">
									<Content />
								</div>
							</div>
						</div>
					)
				})}
			</div>
		</section>

		<ComparisonTable />
	</main>
	<Footer />
</Layout> 