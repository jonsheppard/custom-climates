---
import Layout from '../layouts/Layout.astro';

const title = "Request a Quote | Custom Climates";
const description = "Contact us for a free quote on our climate-controlled trailers, containers, and power generation units. Our team is ready to help 24/7.";
---

<Layout title={title} description={description}>
  <main class="container mx-auto py-12 px-8">
    <h1 class="text-4xl font-bold text-center mb-8">Contact Us</h1>
    <form name="contact" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" class="max-w-xl mx-auto bg-gray-800 p-8 rounded-lg">
      <input type="hidden" name="form-name" value="contact" />
      <p class="hidden">
        <label>
          Don't fill this out if you're human: <input name="bot-field" />
        </label>
      </p>

      <div class="mb-4">
        <label for="name" class="block text-white mb-2">Name</label>
        <input type="text" name="name" id="name" placeholder="Your Name" class="w-full p-3 rounded bg-gray-700 border border-gray-600 focus:ring-blue-500 focus:border-blue-500" required />
      </div>
      <div class="mb-4">
        <label for="email" class="block text-white mb-2">Email</label>
        <input type="email" name="email" id="email" placeholder="your@email.com" class="w-full p-3 rounded bg-gray-700 border border-gray-600 focus:ring-blue-500 focus:border-blue-500" required pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" />
      </div>
      <div class="mb-4">
        <label for="phone" class="block text-white mb-2">Phone</label>
        <input type="tel" name="phone" id="phone" placeholder="(555) 555-5555" class="w-full p-3 rounded bg-gray-700 border border-gray-600 focus:ring-blue-500 focus:border-blue-500" required pattern="\\(\\d{3}\\) \\d{3}-\\d{4}" />
      </div>
      <div class="mb-4">
        <label for="message" class="block text-white mb-2">Message</label>
        <textarea name="message" id="message" rows="4" placeholder="Tell us about your project needs..." class="w-full p-3 rounded bg-gray-700 border border-gray-600 focus:ring-blue-500 focus:border-blue-500" required></textarea>
      </div>
      <div>
        <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
          Send Message
        </button>
      </div>
    </form>
  </main>
</Layout>

<script>
  const phoneInput = document.getElementById('phone');

  if (phoneInput) {
    phoneInput.addEventListener('input', (e) => {
      const target = e.target as HTMLInputElement;
      let input = target.value.replace(/\D/g, '').substring(0, 10);
      const areaCode = input.substring(0, 3);
      const middle = input.substring(3, 6);
      const last = input.substring(6, 10);

      if (input.length > 6) {
        target.value = `(${areaCode}) ${middle}-${last}`;
      } else if (input.length > 3) {
        target.value = `(${areaCode}) ${middle}`;
      } else if (input.length > 0) {
        target.value = `(${areaCode}`;
      }
    });
  }
</script> 