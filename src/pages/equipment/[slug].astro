---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const equipment = await getCollection('equipment');
  return equipment.map(item => ({
    params: { slug: item.slug },
    props: { equipment: item }
  }));
}

const { equipment } = Astro.props;
const { data } = equipment;
const { Content } = await equipment.render();

const title = `${data.title} | Custom Climates`;
const description = data.description;
---

<Layout {title} {description}>
  <main class="py-20 px-8 bg-gray-800 text-white">
    <div class="container mx-auto">
        <article class="max-w-4xl mx-auto">
          <img src={data.image} alt={data.title} class="w-full h-auto rounded-lg mb-8 shadow-lg max-h-[500px] object-cover" />
          <h1 class="text-4xl lg:text-5xl font-extrabold mb-4">{data.title}</h1>
          <p class="text-xl lg:text-2xl text-gray-300 mb-8">{data.description}</p>
          
          <div class="prose prose-invert lg:prose-xl max-w-none">
            <Content />
          </div>

          {data.features && data.features.length > 0 && (
            <div class="mt-12">
                <h2 class="text-3xl font-bold border-b border-gray-600 pb-2 mb-4">Features</h2>
                <ul class="list-disc list-inside space-y-2 text-lg">
                    {data.features.map((feature) => (
                    <li>{feature}</li>
                    ))}
                </ul>
            </div>
          )}
        </article>
    </div>
  </main>
</Layout> 