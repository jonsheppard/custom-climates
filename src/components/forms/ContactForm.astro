---
interface Props {
  formName?: string;
  isQuoteForm?: boolean;
}

const { formName = 'contact', isQuoteForm = false } = Astro.props;
---

<form 
  name={formName}
  method="POST" 
  data-netlify="true" 
  data-netlify-honeypot="bot-field"
  class="space-y-4"
  action="/thank-you"
>
  <input type="hidden" name="form-name" value={formName} />
  
  <p class="hidden">
    <label>
      Don't fill this out if you're human: <input name="bot-field" />
    </label>
  </p>

  <div>
    <label for="name" class="block text-sm font-bold text-neutral-dark mb-1">Full Name *</label>
    <input type="text" id="name" name="name" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
  </div>

  <div>
    <label for="email" class="block text-sm font-bold text-neutral-dark mb-1">Email Address *</label>
    <input type="email" id="email" name="email" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
  </div>

  <div>
    <label for="phone" class="block text-sm font-bold text-neutral-dark mb-1">Phone Number *</label>
    <input type="tel" id="phone" name="phone" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
  </div>

  {isQuoteForm && (
    <div>
        <label for="company" class="block text-sm font-bold text-neutral-dark mb-1">Company Name *</label>
        <input type="text" id="company" name="company" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
    </div>
  )}

  {isQuoteForm && (
    <>
      <div>
        <label for="address" class="block text-sm font-bold text-neutral-dark mb-1">Address Search</label>
        <input type="text" id="address" name="address_search" placeholder="Start typing your address..." class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
      </div>

      <div>
        <label for="street_address" class="block text-sm font-bold text-neutral-dark mb-1">Street Address *</label>
        <input type="text" id="street_address" name="street_address" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div>
          <label for="city" class="block text-sm font-bold text-neutral-dark mb-1">City *</label>
          <input type="text" id="city" name="city" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
        </div>
        <div>
          <label for="state" class="block text-sm font-bold text-neutral-dark mb-1">State *</label>
          <input type="text" id="state" name="state" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
        </div>
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div>
          <label for="country" class="block text-sm font-bold text-neutral-dark mb-1">Country *</label>
          <input type="text" id="country" name="country" value="United States" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
        </div>
        <div>
          <label for="postal_code" class="block text-sm font-bold text-neutral-dark mb-1">Postal Code *</label>
          <input type="text" id="postal_code" name="postal_code" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue" />
        </div>
      </div>
    </>
  )}

  <div>
    <label for="message" class="block text-sm font-bold text-neutral-dark mb-1">
      {isQuoteForm ? 'Project Details *' : 'Your Message *'}
    </label>
    <textarea id="message" name="message" rows="4" required class="w-full px-3 py-2 border border-neutral-medium rounded-md focus:outline-none focus:ring-2 focus:ring-brand-blue"></textarea>
  </div>

  {isQuoteForm && (
    <div class="flex items-start space-x-3">
      <input type="checkbox" id="sms_consent" name="sms_consent" value="yes" class="mt-1 h-4 w-4 text-brand-blue focus:ring-brand-blue border-neutral-medium rounded" />
      <label for="sms_consent" class="text-sm text-neutral-dark">
        I consent to receive SMS messages from Custom Climates regarding my quote request and project updates.
      </label>
    </div>
  )}
  
  <button type="submit" class="w-full bg-brand-orange text-white font-bold py-3 px-6 rounded-lg hover:bg-opacity-90 transition-colors">
    {isQuoteForm ? 'Request My Quote' : 'Send Message'}
  </button>
</form> 